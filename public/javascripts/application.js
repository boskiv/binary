// Generated by CoffeeScript 1.6.3
(function() {
  var getShot;

  $(document).ready(function() {
    return $("#q").focus().keyup(function(e) {
      if (e.keyCode === 13) {
        $('#loader').modal('show');
        return getShot();
      }
    });
  });

  getShot = function() {
    return $.ajax('/makeShot', {
      type: 'POST',
      dataType: 'json',
      data: {
        url: $("#q").val()
      },
      error: function(jqXHR, textStatus, errorThrown) {
        return console.log(textStatus);
      },
      success: function(data, textStatus, jqXHR) {
        var d;
        console.log("Result: " + data.success);
        if (data.success === 'true') {
          d = new Date();
          $("#result").empty().append('<img src="images/output.png?ver=' + d.getTime() + '" alt="not supported" class="img-rounded">');
          return $('#loader').modal('hide');
        } else {
          $("#result").empty().append('error downloading shot');
          return $('#loader').modal('hide');
        }
      }
    });
  };

}).call(this);

/*
//@ sourceMappingURL=application.map
*/
